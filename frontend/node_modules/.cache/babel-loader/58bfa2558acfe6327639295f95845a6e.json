{"ast":null,"code":"var _jsxFileName = \"/home/keetener/apiplaybook/frontend/src/pages/index.tsx\";\nimport React, { useEffect, useState } from 'react';\nimport { useQuery } from '@apollo/client';\nimport { Link } from 'react-router-dom';\nimport { Title, Form, Informations } from './style';\nimport { queryBin } from '../service/graphql';\nimport api, { saveDate } from '../service/axios';\n\nconst Dashboard = () => {\n  var _card$card, _card$card2, _card$usages, _card$allowed_capture;\n\n  const [newBin, setNewBin] = useState('');\n  const [card, setCard] = useState();\n  const {\n    data\n  } = useQuery(queryBin, {\n    variables: {\n      number: newBin\n    }\n  });\n\n  async function HandleWithCardInformationSearch(bin) {\n    if (bin.length === 6) {\n      const {\n        data\n      } = await api.get(`/cards/${bin}`);\n\n      if (data.card) {\n        setCard(data);\n      } else {\n        setNewBin(bin);\n      }\n    }\n  }\n\n  useEffect(() => {\n    if (data !== undefined) {\n      saveDate(data, newBin);\n    }\n\n    ;\n  });\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Title, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }\n  }, \"Enter the first 6 digits of your credit card\"), /*#__PURE__*/React.createElement(Form, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    onChange: e => HandleWithCardInformationSearch(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 9\n    }\n  })), (card === null || card === void 0 ? void 0 : card.card) && /*#__PURE__*/React.createElement(Informations, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    key: newBin,\n    to: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }\n  }, card === null || card === void 0 ? void 0 : (_card$card = card.card) === null || _card$card === void 0 ? void 0 : _card$card.issuer, \" - \", card === null || card === void 0 ? void 0 : (_card$card2 = card.card) === null || _card$card2 === void 0 ? void 0 : _card$card2.product.toUpperCase()), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"wrapper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"box\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 17\n    }\n  }, \"USOS\"), card === null || card === void 0 ? void 0 : (_card$usages = card.usages) === null || _card$usages === void 0 ? void 0 : _card$usages.map(usages => /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 19\n    }\n  }, usages.name.toUpperCase()))), card.allowed_captures && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"box\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 19\n    }\n  }, \"CAPTURAS PERMITIDAS\"), card === null || card === void 0 ? void 0 : (_card$allowed_capture = card.allowed_captures) === null || _card$allowed_capture === void 0 ? void 0 : _card$allowed_capture.map(allowed => /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 21\n    }\n  }, allowed.name.toUpperCase())))))));\n};\n\nexport default Dashboard;","map":{"version":3,"sources":["/home/keetener/apiplaybook/frontend/src/pages/index.tsx"],"names":["React","useEffect","useState","useQuery","Link","Title","Form","Informations","queryBin","api","saveDate","Dashboard","newBin","setNewBin","card","setCard","data","variables","number","HandleWithCardInformationSearch","bin","length","get","undefined","e","target","value","issuer","product","toUpperCase","usages","map","name","allowed_captures","allowed"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useQuery } from '@apollo/client';\nimport { Link } from 'react-router-dom';\n\nimport { CardsInformationDTO, CardsInformationSaveDTO } from '../dtos/CardsInformationDTO';\n\nimport { Title, Form, Informations } from './style';\n\nimport { queryBin } from '../service/graphql';\nimport api, { saveDate } from '../service/axios';\n\nconst Dashboard: React.FC = () => {\n  const [newBin, setNewBin] = useState('');\n  const [card, setCard] = useState<CardsInformationDTO>();\n  const { data } = useQuery<CardsInformationSaveDTO>(queryBin, {\n    variables: { number: newBin },\n  });\n\n  async function HandleWithCardInformationSearch(bin: string) {\n    if (bin.length === 6) {\n      const { data } = await api.get<CardsInformationDTO>(`/cards/${bin}`);\n\n      if (data.card) {\n        setCard(data);\n      } else {\n        setNewBin(bin);\n      }\n    }\n  }\n\n  useEffect(() => {\n    if (data !== undefined) {\n      saveDate(data, newBin);\n    };\n  })\n\n  return (\n    <>\n      <Title>Enter the first 6 digits of your credit card</Title>\n\n      <Form>\n        <input\n          onChange={(e) => HandleWithCardInformationSearch(e.target.value)}\n        />\n      </Form>\n\n      {card?.card &&\n        <Informations>\n          <Link key={newBin} to=\"\">\n            <strong>{card?.card?.issuer} - {card?.card?.product.toUpperCase()}</strong>\n            <div className=\"wrapper\">\n              <div className=\"box\">\n                <strong>USOS</strong>\n                {card?.usages?.map(usages => (\n                  <p>{usages.name.toUpperCase()}</p>\n                ))}\n              </div>\n              {card.allowed_captures &&\n                <div className=\"box\">\n                  <strong>CAPTURAS PERMITIDAS</strong>\n                  {card?.allowed_captures?.map(allowed => (\n                    <p>{allowed.name.toUpperCase()}</p>\n                  ))}\n                </div>\n              }\n\n            </div>\n          </Link>\n        </Informations>\n      }\n    </>\n  );\n}\n\nexport default Dashboard;\n"]},"metadata":{},"sourceType":"module"}